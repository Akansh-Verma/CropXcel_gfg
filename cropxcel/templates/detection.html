{% extends 'base.html' %}
{% block title %}Detection{% endblock title %}
{% load static %}
{% block body %}
<div class="row legend">
    <!-- legend introduction text -->
    <div class="photo-container">
        <img src="/static/images/det-cover.png" alt="">
    </div>
    <div class="col legend__text">
        <header class="introText">
            <h1 class="introText__heading">
                Guide <span>to using </span>Leaf Detection
            </h1>
            <p class="introText__link">
                <a href="#Visit">Check directly
                    <i class="fas fa-arrow-right"></i></a>
            </p>
        </header>
    </div>
</div>
{% endblock %}
{% block content %}
<section class="detect main-grid">

    <div class="data">
        <h1 class="heading">Upload an Image</h1>
        <form class="form" method="POST" enctype="multipart/form-data">
            {% csrf_token %}
            {{ form.as_p }}
            <span class="form-title">Upload your file</span>
            <p class="form-paragraph">
                File should be an image
            </p>
            <label for="file-input" class="drop-container">
                <span class="drop-title">Drop files here</span>
                or
                <input type="file" accept="image/*" name="image" required="" id="file-input">
            </label>
            <button type="submit">
                <span class="box">
                    Submit!
                </span>
            </button>
        </form>
    </div>
    <div class="output">
        {% if predicted_class %}
        <h1 class="heading">Prediction: {{ predicted_class.0 }}</h1>
        <img src="{{ uploaded_file_url }}" width="300" height="300">
        {% endif %}
    </div>
</section>
{% endblock %}